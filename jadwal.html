<!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
<!------ Include the above in your HEAD tag ---------->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Schedule</title>
    <link rel="stylesheet" href="sidebar.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">


</head>

<body>
    <div class="d-flex" id="wrapper">
        <div class="bg-light border-right" id="sidebar-wrapper">
            <div class="sidebar-heading">Home Automation</div>
            <div class="list-group list-group-flush">
                <a class="list-group-item list-group-item-action bg-light text-center" href="/menu_button">
                    Menu
                </a>
                <a class="list-group-item list-group-item-action bg-light fas fa-user" href="/user_button">
                    Add User
                </a>
                <a class="list-group-item list-group-item-action bg-light fas fa-home" href="/rumah_button">
                    Home Automation
                </a>
                <a class="list-group-item list-group-item-action bg-light fas fa-clock" href="/jadwal_button">
                    Schedule
                </a>
                <!-- <div class="row text-center pt-3">
                    <p>Schadule Pompa</p>
                    <form action="get">
                        <input type="time" name="on" id="butonon">On
                        <button class="btn">Submit</button>
                        <input type="time" name="off" id="butonoff">Off
                        <button class="btn">Submit</button>
                    </form>
                </div> -->
                    
                
                <a class="list-group-item list-group-item-action bg-light" href="/kontak_button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-envelope" viewBox="0 0 16 16">
                        <path
                            d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z" />
                    </svg>
                    Our Contact
                </a>
                <div class="container pt-xl-5 figure-img">
                    <img src="pi.png" alt="logo" width="200" height="150">
                </div>
            </div>
        </div>
        <!-- Sidebar -->

        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
                <a id="menu-toggle" class="btn btn-sm btn-light" href="#">
                    <i class="fas fa-bars"></i>
                </a>
                <!-- <button class="btn btn-primary" id="menu-toggle">Toggle Menu</button> -->

                <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                      <!-- <li class="nav-item active">
                        <a class="nav-link" href="dashboard.html">Home <span class="sr-only">(current)</span></a>
                      </li> -->
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img src="login.png" alt="logo" width="25" height="25">
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                          <a class="dropdown-item" href="/reset">Sign Out</a>
                          <a class="dropdown-item" href="/reset">Reset Password</a>
                        </div>
                      </li>
                    </ul>
                </div>
            </nav>

            <!-- sideavr -->
            <main>
                <div class="container-fluid">
                    <div
                        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                        <h1 class="h2">Jadwal</h1>
                    </div>
                    <table class="table table-hover link-primary">
                        <tr>
                            <th align="center">No.</th>
                            <th align="center">Unit</th>
                            <th align="center">ON</th>
                            <th align="center">OFF</th>
                        </tr>

                        <tr>
                            <td id="nomor">1</td>
                            <td id="unit">Ruang 1</td>
                            <td id="onr1"></td>
                            <td id="offr1"></td>
                        </tr>
                        <tr>
                            <td id="nomor">2</td>
                            <td id="unit">Ruang 2</td>
                            <td id="onr2"></td>
                            <td id="offr2"></td>
                        </tr>
                        <tr>
                            <td id="nomor">3</td>
                            <td id="unit">Ruang 3</td>
                            <td id="onr3"></td>
                            <td id="offr3"></td>
                        </tr>
                        <tr>
                            <td id="nomor">4</td>
                            <td id="unit">Ruang 4</td>
                            <td id="onr4"></td>
                            <td id="offr4"></td>
                        </tr>
                        <tr>
                            <td id="nomor">5</td>
                            <td id="unit">Ruang 5</td>
                            <td id="onr5"></td>
                            <td id="offr5"></td>
                        </tr>
                        <tr>
                            <td id="nomor">6</td>
                            <td id="unit">Ruang 6</td>
                            <td id="onr6"></td>
                            <td id="offr6"></td>
                        </tr>
                        <tr>
                            <td id="nomor">7</td>
                            <td id="unit">Ruang 7</td>
                            <td id="onr7"></td>
                            <td id="offr7"></td>
                        </tr>
                        <tr>
                            <td id="nomor">8</td>
                            <td id="unit">Ruang 8</td>
                            <td id="onr8"></td>
                            <td id="offr8"></td>
                        </tr>
                        

                    </table>
                </div>
                <footer class="text-center fixed-bottom">&copy; 2021 CV. Planet Intelligent</footer>
            </main>
            
        </div>
        <!-- page-wrapper -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
        <script>
            var obj;
            var gwUrl = "ws://" + location.host + "/ws";
            var webSocket = new WebSocket(gwUrl);
            var waktuOn1;
            var waktuOff1;
            var waktuOn2;
            var waktuOff2;
            var waktuOn3;
            var waktuOff3;
            var waktuOn4;
            var waktuOff4;
            var waktuOn5;
            var waktuOff5;
            var waktuOn6;
            var waktuOff6;
            var waktuOn7;
            var waktuOff7;
            var waktuOn8;
            var waktuOff8;

            webSocket.onopen = function(event) {
                console.log("open");
            }
            
            webSocket.onclose = function(event) {
                console.log("close");
            }

            webSocket.onmessage = function (event) {
                // document.getElementById("rxConsole").value += event.data;
                obj = JSON.parse(event.data);
    
                var full_data1 = event.data;
                console.log(full_data1);
                var data = JSON.parse(full_data1);

                waktuOn1 = data.jamon1+':'+data.meniton1;
                waktuOff1 = data.jamoff1+':'+data.menitoff1;
                waktuOn2 = data.jamon2+':'+data.meniton2;
                waktuOff2 = data.jamoff2+':'+data.menitoff2;
                waktuOn3 = data.jamon3+':'+data.meniton3;
                waktuOff3 = data.jamoff3+':'+data.menitoff3;
                waktuOn4 = data.jamon4+':'+data.meniton4;
                waktuOff4 = data.jamoff4+':'+data.menitoff4;
                waktuOn5 = data.jamon5+':'+data.meniton5;
                waktuOff5 = data.jamoff5+':'+data.menitoff5;
                waktuOn6 = data.jamon6+':'+data.meniton6;
                waktuOff6 = data.jamoff6+':'+data.menitoff6;
                waktuOn7 = data.jamon7+':'+data.meniton7;
                waktuOff7 = data.jamoff7+':'+data.menitoff7;
                waktuOn8 = data.jamon8+':'+data.meniton8;
                waktuOff8 = data.jamoff8+':'+data.menitoff8;

                // waktuOn = data.waktuon;
                // waktuOff = data.waktuoff;
                
                document.getElementById("onr1").innerHTML = waktuOn1;
                document.getElementById("offr1").innerHTML = waktuOff1;
                document.getElementById("onr2").innerHTML = waktuOn2;
                document.getElementById("offr2").innerHTML = waktuOff2;
                document.getElementById("onr3").innerHTML = waktuOn3;
                document.getElementById("offr3").innerHTML = waktuOff3;
                document.getElementById("onr4").innerHTML = waktuOn4;
                document.getElementById("offr4").innerHTML = waktuOff4;
                document.getElementById("onr5").innerHTML = waktuOn5;
                document.getElementById("offr5").innerHTML = waktuOff5;
                document.getElementById("onr6").innerHTML = waktuOn6;
                document.getElementById("offr6").innerHTML = waktuOff6;
                document.getElementById("onr7").innerHTML = waktuOn7;
                document.getElementById("offr7").innerHTML = waktuOff7;
                document.getElementById("onr8").innerHTML = waktuOn8;
                document.getElementById("offr8").innerHTML = waktuOff8;
            }

            $("#menu-toggle").click(function (event) {
                event.preventDefault();
                $("#wrapper").toggleClass("toggled");
            });
        </script>
</body>

</html>